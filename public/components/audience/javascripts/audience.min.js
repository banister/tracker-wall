(function(b){function a(b,d){if({}.hasOwnProperty.call(a.cache,b))return a.cache[b];var e=a.resolve(b);if(!e)throw new Error('Failed to resolve module '+b);var c={id:b,require:a,filename:b,exports:{},loaded:!1,parent:d,children:[]};d&&d.children.push(c);var f=b.slice(0,b.lastIndexOf('/')+1);return a.cache[b]=c.exports,e.call(c.exports,c,c.exports,f,b),c.loaded=!0,a.cache[b]=c.exports}a.modules={},a.cache={},a.resolve=function(b){return{}.hasOwnProperty.call(a.modules,b)?a.modules[b]:void 0},a.define=function(b,c){a.modules[b]=c};var c=function(a){return a='/',{title:'browser',version:'v0.8.18',browser:!0,env:{},argv:[],nextTick:b.setImmediate||function(a){setTimeout(a,0)},cwd:function(){return a},chdir:function(b){a=b}}}();a.define('/audience.coffee',function(b,d,e,f){var c;c={DOMMappings:a('/dom_mappings.coffee',b),Page:a('/page.coffee',b),Element:a('/element.coffee',b),Message:a('/message.coffee',b),Spy:a('/spy.coffee',b)},b.exports=c}),a.define('/spy.coffee',function(b,k,j,i){function h(d,b){for(var a=0,c=b.length;a<c;++a)if(a in b&&b[a]===d)return!0;return!1}var g,f,e,d,c;g=a('/dom_mappings.coffee',b),d=a('/page.coffee',b),f=a('/element.coffee',b),e=a('/message.coffee',b),c=function(){function a(c){var b;b=this,this.registerableMappings=function(c){return a.prototype.registerableMappings.apply(b,arguments)},this.register=function(c){return a.prototype.register.apply(b,arguments)},this.mutationHandler=function(c){return a.prototype.mutationHandler.apply(b,arguments)},this.inform=function(c){return a.prototype.inform.apply(b,arguments)},null==c&&(c={}),this.domMappings=c.domMappings||g,this.page=new d,this.handle=c.handler||function(a){return console.log('A message was handled: '+a)}}return a.prototype.inform=function(a){var b;return b=new e({domMappings:this.domMappings,page:this.page,fragment:this.fragment,element:new f(a.target,a.type)}),this.handle(b)},a.prototype.listen=function(c){var a,b;return this.fragment=document.querySelector(c||'body'),a={attributes:!0,childList:!0,characterData:!0,subtree:!0},b=new MutationObserver(this.mutationHandler),b.observe(this.fragment,a)},a.prototype.mutationHandler=function(a){return function(c){var d;for(var b=0,e=a.length;b<e;++b)d=a[b],c.push(this.register(d.addedNodes));return c}.call(this,[])},a.prototype.register=function(c){var f,a,d;for(var b=0,e=c.length;b<e;++b){a=c[b],a.childNodes.length>0&&this.register(a.childNodes);for(d in this.registerableMappings(a))f=this.registerableMappings(a)[d],a.addEventListener(d,this.inform,!1)}return c},a.prototype.matchSelector=function(b,a){return a['class']?h(a['class'],b.className.split(' ')):!0},a.prototype.registerableMappings=function(b){var a;return a=this.domMappings[b.tagName],a&&this.matchSelector(b,a)?a.events:{}},a}(),b.exports=c}),a.define('/message.coffee',function(c,e,f,g){var b,d;b=a('/element.coffee',c),d=function(){function a(b){var c;c=this,this.fullName=function(){return a.prototype.fullName.apply(c,arguments)},this.page=b.page,this.element=b.element,this.tagName=this.element.tagName,this.domMappings=b.domMappings,this.fragment=b.fragment,this.timestamp=+new Date}return a.prototype.category=function(){return this.domMappings[this.tagName]&&this.domMappings[this.tagName][this.element.type]},a.prototype.classesOf=function(a){return null==a&&(a=this.element),b.classesOf(a.base)},a.prototype.eventType=function(){return this.element.type},a.prototype.fullName=function(){var a;return a=''+this.element.tagName,a},a.prototype.id=function(){return this.element.id},a.prototype.recursivelyWalkUp=function(c,a){var d;return null==c&&(c=[]),null==a&&(a=this.element),a&&(a.id===''?(d=this.selectorPathFor(a),('function'===typeof this.selectorWorthy?this.selectorWorthy(d):void 0)&&c.unshift(d),this.recursivelyWalkUp(c,new b(a.base.parentNode))):a.base!==this.fragment&&c.unshift(''+a.tagName+'#'+a.id)),c},a.prototype.selector=function(){return this.recursivelyWalkUp().join(' ')},a.prototype.selectorPathFor=function(a){var c,b;return null==a&&(a=this.element),c=this.classesOf(a),b=a.tagName,a.id&&(b+='#'+a.id),c.length>0&&(b+='.'+c.join('.')),b},a.prototype.selectorWorthy=function(a){return a!=='DIV'&&a!=='SMALL'&&a!=='P'&&a!=='LABEL'},a.prototype.text=function(){return this.element.base.text},a.prototype.toObject=function(){var a;return a={category:this.category(),classes:this.classesOf(),element:this.tagName,eventType:this.eventType(),fullName:this.fullName(),id:this.id(),page:this.page,selector:this.selector(),text:this.text(),timestamp:this.timestamp,value:this.value()}},a.prototype.value=function(){return this.element.base.value},a}(),c.exports=d}),a.define('/element.coffee',function(b,c,d,e){var a;a=function(){function a(a,b){this.base=a,this.id=a.id,this.classes=this.constructor.classesOf(a),this.tagName=a.tagName,this.type=b}return a.classesOf=function(b){var a;return a=b.classList.toString().trim(),a===''?[]:a.split(' ')},a}(),b.exports=a}),a.define('/page.coffee',function(b,c,d,e){var a;a=function(){function a(a){null==a&&(a={}),this.location=a.location||location,this.timestamp=a.timestampe||+new Date}return a}(),b.exports=a}),a.define('/dom_mappings.coffee',function(b,c,d,e){var a;a={A:{events:{click:'CLICK',mouseover:'HOVER'}},BUTTON:{events:{click:'CLICK',mouseover:'HOVER'}},FORM:{events:{submit:'SUBMIT'}},IMG:{events:{mouseover:'HOVER'}},INPUT:{events:{click:'CLICK',mouseover:'HOVER',submit:'SUBMIT'}},SELECT:{events:{change:'CHANGE',click:'CLICK',mouseover:'HOVER'}},TEXTAREA:{events:{click:'CLICK',mouseover:'HOVER'}}},b.exports=a}),b.Audience=a('/audience.coffee')}.call(this,this))